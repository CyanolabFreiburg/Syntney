<!DOCTYPE>

<html>

  <head>
    <title>cytoscape-fcose.js demo</title>
      <meta charset="utf-8"/>

      <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">

      <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
      <script src="https://unpkg.com/layout-base/layout-base.js"></script>
      <script src="https://unpkg.com/cose-base/cose-base.js"></script>
      <script src="https://unpkg.com/cytoscape-layout-utilities/cytoscape-layout-utilities.js"></script>

      <!-- for testing with local version of cytoscape.js -->
      <!--<script src="../cytoscape.js/build/cytoscape.js"></script>-->

      <script src="cytoscape-fcose.js"></script>

      <style>
        body {
          font-family: helvetica neue, helvetica, liberation sans, arial, sans-serif;
          font-size: 14px;
        }

        #cy {
          position: relative;
          width: auto;
          height: 90%;
          z-index: 999;
          margin-left: 300px;
          right: 0px;
        }

        h1 {
          opacity: 1;
          color: #555;
          font-size: 15px;
          font-weight: bold;
        }
        
      
        table{
          margin-left:auto;
          margin-right:auto;
        }       
        
       
        /* Style the button that is used to open the sidepanel */
        .button {
          font-size: 15px;
          color: #555;
          cursor: pointer;
          background-color: #b7ffff;
          padding: 5px 10px;
          border: none;
          margin-bottom: 5px;
        }
        
        .textField {
          padding-left: 5px;
        }
        
        .checkbox {
          margin-left: 0px;
        }        

        .button:hover {
          background-color: #0f0;
        }        
      </style>

      <script>
        document.addEventListener('DOMContentLoaded', function(){

          var cy = window.cy = cytoscape({
            container: document.getElementById('cy'),
            
            ready: function(){

              let layoutUtilities = this.layoutUtilities({
                desiredAspectRatio: this.width()/this.height(),
                componentSpacing: 30
              });

              

              

              /*
              this.nodes().forEach(function(node){
                let size = Math.random()*120+30;
                node.css("width", node.data(pagerank));
                node.css("height", node.data(pagerank));
              });*/
              
              this.layout({
                name: 'fcose',
                randomize: true
              }).run();

            },          

            style: [
              {
                selector: 'node',
                style: {
                  'background-color': '#2B65EC',
                  'label': 'data(label)',
                  "text-valign": "center",
                  "text-halign": "center",
                }
              },

              {
                selector: 'edge',
                style: {
                  'width': 3,
                  'line-color': '#2B65EC'
                }
              },
                            
              {
                selector: 'node:selected',
                style: {
                  'background-color': '#F08080',
                  'border-color': 'red'
                }
              },
              
              {
                selector: 'edge:selected',
                style: {
                  'line-color': '#F08080'
                }
              }                 
            ], 

          elements: {
            nodes: [
              {
              data: {
                id: 0,
                label: "cluster_57",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 1,
                label: "sRNA",
                pagerank: 0.01
              }
            },
            {
              data: {
                id: 2,
                label: "cluster_2",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 3,
                label: "cluster_7",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 4,
                label: "cluster_84",
                pagerank: 0.013415281455409312
              }
            },
            {
              data: {
                id: 5,
                label: "cluster_20",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 6,
                label: "cluster_42",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 7,
                label: "cluster_113",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 8,
                label: "cluster_162",
                pagerank: 0.006221677351812817
              }
            },
            {
              data: {
                id: 9,
                label: "cluster_51",
                pagerank: 0.07976180399603468
              }
            },
            {
              data: {
                id: 10,
                label: "cluster_17",
                pagerank: 0.04406571144123422
              }
            },
            {
              data: {
                id: 11,
                label: "cluster_106",
                pagerank: 0.005143515178874443
              }
            },
            {
              data: {
                id: 12,
                label: "cluster_18",
                pagerank: 0.006241594016549263
              }
            },
            {
              data: {
                id: 13,
                label: "cluster_139",
                pagerank: 0.0395087422634917
              }
            },
            {
              data: {
                id: 14,
                label: "cluster_161",
                pagerank: 0.00804045451748871
              }
            },
            {
              data: {
                id: 15,
                label: "cluster_155",
                pagerank: 0.007300078554245298
              }
            },
            {
              data: {
                id: 16,
                label: "cluster_45",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 17,
                label: "cluster_87",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 18,
                label: "cluster_65",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 19,
                label: "cluster_156",
                pagerank: 0.0074375254641252464
              }
            },
            {
              data: {
                id: 20,
                label: "cluster_40",
                pagerank: 0.013415281455409156
              }
            },
            {
              data: {
                id: 21,
                label: "cluster_78",
                pagerank: 0.012685396718988658
              }
            },
            {
              data: {
                id: 22,
                label: "cluster_103",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 23,
                label: "cluster_127",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 24,
                label: "cluster_1",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 25,
                label: "cluster_108",
                pagerank: 0.010061461091557101
              }
            },
            {
              data: {
                id: 26,
                label: "cluster_129",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 27,
                label: "cluster_109",
                pagerank: 0.02347674254696593
              }
            },
            {
              data: {
                id: 28,
                label: "cluster_131",
                pagerank: 0.0040668633191372
              }
            },
            {
              data: {
                id: 29,
                label: "cluster_58",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 30,
                label: "cluster_128",
                pagerank: 0.012702238500124495
              }
            },
            {
              data: {
                id: 31,
                label: "cluster_61",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 32,
                label: "cluster_34",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 33,
                label: "cluster_32",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 34,
                label: "cluster_134",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 35,
                label: "cluster_149",
                pagerank: 0.012214816811098969
              }
            },
            {
              data: {
                id: 36,
                label: "cluster_82",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 37,
                label: "cluster_30",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 38,
                label: "cluster_115",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 39,
                label: "cluster_133",
                pagerank: 0.013415281455409312
              }
            },
            {
              data: {
                id: 40,
                label: "cluster_10",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 41,
                label: "cluster_74",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 42,
                label: "cluster_21",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 43,
                label: "cluster_97",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 44,
                label: "cluster_91",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 45,
                label: "cluster_132",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 46,
                label: "cluster_144",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 47,
                label: "cluster_158",
                pagerank: 0.013415281455409312
              }
            },
            {
              data: {
                id: 48,
                label: "cluster_35",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 49,
                label: "cluster_114",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 50,
                label: "cluster_141",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 51,
                label: "cluster_93",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 52,
                label: "cluster_39",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 53,
                label: "cluster_11",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 54,
                label: "cluster_123",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 55,
                label: "cluster_145",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 56,
                label: "cluster_146",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 57,
                label: "cluster_140",
                pagerank: 0.013415281455409312
              }
            },
            {
              data: {
                id: 58,
                label: "cluster_44",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 59,
                label: "cluster_85",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 60,
                label: "cluster_138",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 61,
                label: "cluster_31",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 62,
                label: "cluster_83",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 63,
                label: "cluster_47",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 64,
                label: "cluster_98",
                pagerank: 0.013415281455409312
              }
            },
            {
              data: {
                id: 65,
                label: "cluster_63",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 66,
                label: "cluster_153",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 67,
                label: "cluster_38",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 68,
                label: "cluster_71",
                pagerank: 0.013415281455409312
              }
            },
            {
              data: {
                id: 69,
                label: "cluster_9",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 70,
                label: "cluster_112",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 71,
                label: "cluster_37",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 72,
                label: "cluster_19",
                pagerank: 0.013415281455409312
              }
            },
            {
              data: {
                id: 73,
                label: "cluster_99",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 74,
                label: "cluster_53",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 75,
                label: "cluster_80",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 76,
                label: "cluster_165",
                pagerank: 0.013415281455409312
              }
            },
            {
              data: {
                id: 77,
                label: "cluster_163",
                pagerank: 0.010061461091556874
              }
            },
            {
              data: {
                id: 78,
                label: "cluster_29",
                pagerank: 0.006707640727704819
              }
            },
            {
              data: {
                id: 79,
                label: "cluster_66",
                pagerank: 0.003353820363852536
              }
            },
            {
              data: {
                id: 80,
                label: "cluster_5",
                pagerank: 0.003353820363852536
              }
            }
            ],
            edges: [
              {
              data: {
                source: 0,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 2,
                target: 0,
                weight: 1.0
              }
            },
            {
              data: {
                source: 3,
                target: 2,
                weight: 1.0
              }
            },
            {
              data: {
                source: 4,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 5,
                target: 4,
                weight: 1.0
              }
            },
            {
              data: {
                source: 6,
                target: 5,
                weight: 1.0
              }
            },
            {
              data: {
                source: 7,
                target: 6,
                weight: 1.0
              }
            },
            {
              data: {
                source: 8,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 9,
                target: 8,
                weight: 0.03595526736209003
              }
            },
            {
              data: {
                source: 9,
                target: 1,
                weight: 0.9640447326379099
              }
            },
            {
              data: {
                source: 10,
                target: 9,
                weight: 1.0
              }
            },
            {
              data: {
                source: 11,
                target: 10,
                weight: 0.4385602934433746
              }
            },
            {
              data: {
                source: 11,
                target: 12,
                weight: 0.5614397065566255
              }
            },
            {
              data: {
                source: 13,
                target: 1,
                weight: 0.7814941238459601
              }
            },
            {
              data: {
                source: 13,
                target: 14,
                weight: 0.11862271196536162
              }
            },
            {
              data: {
                source: 13,
                target: 15,
                weight: 0.09988316418867839
              }
            },
            {
              data: {
                source: 16,
                target: 13,
                weight: 1.0
              }
            },
            {
              data: {
                source: 17,
                target: 16,
                weight: 1.0
              }
            },
            {
              data: {
                source: 18,
                target: 17,
                weight: 1.0
              }
            },
            {
              data: {
                source: 19,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 20,
                target: 19,
                weight: 0.3044069640914037
              }
            },
            {
              data: {
                source: 20,
                target: 21,
                weight: 0.6955930359085963
              }
            },
            {
              data: {
                source: 22,
                target: 20,
                weight: 1.0
              }
            },
            {
              data: {
                source: 23,
                target: 22,
                weight: 1.0
              }
            },
            {
              data: {
                source: 24,
                target: 10,
                weight: 1.0
              }
            },
            {
              data: {
                source: 25,
                target: 10,
                weight: 0.82212376525276
              }
            },
            {
              data: {
                source: 25,
                target: 11,
                weight: 0.17787623474724
              }
            },
            {
              data: {
                source: 26,
                target: 25,
                weight: 1.0
              }
            },
            {
              data: {
                source: 14,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 27,
                target: 13,
                weight: 0.917468671679198
              }
            },
            {
              data: {
                source: 27,
                target: 1,
                weight: 0.082531328320802
              }
            },
            {
              data: {
                source: 28,
                target: 27,
                weight: 1.0
              }
            },
            {
              data: {
                source: 29,
                target: 25,
                weight: 1.0
              }
            },
            {
              data: {
                source: 30,
                target: 27,
                weight: 1.0
              }
            },
            {
              data: {
                source: 31,
                target: 30,
                weight: 0.8936969071197259
              }
            },
            {
              data: {
                source: 31,
                target: 28,
                weight: 0.10630309288027408
              }
            },
            {
              data: {
                source: 32,
                target: 31,
                weight: 1.0
              }
            },
            {
              data: {
                source: 21,
                target: 9,
                weight: 1.0
              }
            },
            {
              data: {
                source: 33,
                target: 20,
                weight: 1.0
              }
            },
            {
              data: {
                source: 34,
                target: 13,
                weight: 0.4526464861037352
              }
            },
            {
              data: {
                source: 34,
                target: 35,
                weight: 0.5473535138962649
              }
            },
            {
              data: {
                source: 36,
                target: 34,
                weight: 1.0
              }
            },
            {
              data: {
                source: 37,
                target: 36,
                weight: 1.0
              }
            },
            {
              data: {
                source: 12,
                target: 9,
                weight: 1.0
              }
            },
            {
              data: {
                source: 38,
                target: 9,
                weight: 1.0
              }
            },
            {
              data: {
                source: 39,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 40,
                target: 39,
                weight: 1.0
              }
            },
            {
              data: {
                source: 41,
                target: 40,
                weight: 1.0
              }
            },
            {
              data: {
                source: 42,
                target: 41,
                weight: 1.0
              }
            },
            {
              data: {
                source: 43,
                target: 10,
                weight: 1.0
              }
            },
            {
              data: {
                source: 44,
                target: 43,
                weight: 1.0
              }
            },
            {
              data: {
                source: 45,
                target: 10,
                weight: 1.0
              }
            },
            {
              data: {
                source: 46,
                target: 45,
                weight: 1.0
              }
            },
            {
              data: {
                source: 47,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 48,
                target: 47,
                weight: 1.0
              }
            },
            {
              data: {
                source: 49,
                target: 48,
                weight: 1.0
              }
            },
            {
              data: {
                source: 50,
                target: 49,
                weight: 1.0
              }
            },
            {
              data: {
                source: 15,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 51,
                target: 27,
                weight: 1.0
              }
            },
            {
              data: {
                source: 52,
                target: 10,
                weight: 1.0
              }
            },
            {
              data: {
                source: 53,
                target: 52,
                weight: 1.0
              }
            },
            {
              data: {
                source: 54,
                target: 30,
                weight: 1.0
              }
            },
            {
              data: {
                source: 55,
                target: 10,
                weight: 1.0
              }
            },
            {
              data: {
                source: 56,
                target: 55,
                weight: 1.0
              }
            },
            {
              data: {
                source: 57,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 58,
                target: 57,
                weight: 1.0
              }
            },
            {
              data: {
                source: 59,
                target: 58,
                weight: 1.0
              }
            },
            {
              data: {
                source: 60,
                target: 59,
                weight: 1.0
              }
            },
            {
              data: {
                source: 35,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 61,
                target: 9,
                weight: 1.0
              }
            },
            {
              data: {
                source: 62,
                target: 61,
                weight: 1.0
              }
            },
            {
              data: {
                source: 63,
                target: 62,
                weight: 1.0
              }
            },
            {
              data: {
                source: 64,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 65,
                target: 64,
                weight: 1.0
              }
            },
            {
              data: {
                source: 66,
                target: 65,
                weight: 1.0
              }
            },
            {
              data: {
                source: 67,
                target: 66,
                weight: 1.0
              }
            },
            {
              data: {
                source: 68,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 69,
                target: 68,
                weight: 1.0
              }
            },
            {
              data: {
                source: 70,
                target: 69,
                weight: 1.0
              }
            },
            {
              data: {
                source: 71,
                target: 70,
                weight: 1.0
              }
            },
            {
              data: {
                source: 72,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 73,
                target: 72,
                weight: 1.0
              }
            },
            {
              data: {
                source: 74,
                target: 73,
                weight: 1.0
              }
            },
            {
              data: {
                source: 75,
                target: 74,
                weight: 1.0
              }
            },
            {
              data: {
                source: 76,
                target: 1,
                weight: 1.0
              }
            },
            {
              data: {
                source: 77,
                target: 76,
                weight: 1.0
              }
            },
            {
              data: {
                source: 78,
                target: 77,
                weight: 1.0
              }
            },
            {
              data: {
                source: 79,
                target: 78,
                weight: 1.0
              }
            },
            {
              data: {
                source: 80,
                target: 35,
                weight: 1.0
              }
            }
            ]
          }
          });


          var max = cy.nodes().max(function(ele){
            //return this.data('pagerank');
          });

          console.log(max.value)

          cy.nodes().forEach(function(node){
              //node.data('width', node.data('pagerank') + 10);

              node.css('width', 1000 * (node.data('pagerank') / 0.5))
              node.css('height', 1000 * (node.data('pagerank') / 0.5))

              //console.log(node.data('label'))
          });


          cy.edges().forEach(function(edge) {
            edge.css('width', edge(weight))
          });


        });
      </script>
  </head>

  <body>
          <h1>cytoscape-fcose demo</h1>
          <div id="cy"></div>      

  </body>

</html>
